shadow$provide[341]=function(r,l,A,p){var k=l(209),m=l(214),d=l(340);const c=new k.Point,a=new k.Polygon;r=(()=>{const b=class extends m.Container{constructor(e,g,f,h=k.DRAW_MODES.TRIANGLES){super();this.geometry=e;this.shader=g;this.state=f||k.State.for2d();this.drawMode=h;this.size=this.start=0;this.indices=this.uvs=null;this.vertexData=new Float32Array(1);this._transformID=this.vertexDirty=-1;this._roundPixels=k.settings.ROUND_PIXELS;this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==
e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1);this._roundPixels=
e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const g=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===k.DRAW_MODES.TRIANGLES&&g.length<2*b.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const g=this.shader;
g.alpha=this.worldAlpha;g.update&&g.update();e.batch.flush();g.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0);e.shader.bind(g);e.state.set(this.state);e.geometry.bind(this.geometry,g);e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){var g=this.geometry;const f=this.shader;f.uvMatrix&&(f.uvMatrix.update(),this.calculateUvs());this.calculateVertices();this.indices=g.indexBuffer.data;this._tintRGB=f._tintRGB;this._texture=f.texture;
g=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[g]);e.plugins[g].render(this)}calculateVertices(){var e=this.geometry.buffers[0],g=e.data;e=e._updateID;if(e!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;this.vertexData.length!==g.length&&(this.vertexData=new Float32Array(g.length));var f=this.transform.worldTransform,h=f.a,n=f.b,q=f.c,t=f.d,u=f.tx,v=f.ty;f=this.vertexData;for(let x=0;x<f.length/2;x++){const z=g[2*x],y=g[2*
x+1];f[2*x]=h*z+q*y+u;f[2*x+1]=n*z+t*y+v}if(this._roundPixels)for(g=k.settings.RESOLUTION,h=0;h<f.length;++h)f[h]=Math.round(f[h]*g)/g;this.vertexDirty=e}}calculateUvs(){const e=this.geometry.buffers[1],g=this.shader;g.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new d.MeshBatchUvs(e,g.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices();this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,
e.y))return!1;this.worldTransform.applyInverse(e,c);e=this.geometry.getBuffer("aVertexPosition").data;const g=a.points,f=this.geometry.getIndex().data,h=f.length,n=4===this.drawMode?3:1;for(let q=0;q+2<h;q+=n){const t=2*f[q],u=2*f[q+1],v=2*f[q+2];if(g[0]=e[t],g[1]=e[t+1],g[2]=e[u],g[3]=e[u+1],g[4]=e[v],g[5]=e[v+1],a.contains(c.x,c.y))return!0}return!1}destroy(e){super.destroy(e);this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null);this.vertexData=this.indices=this.uvs=this.state=
this.shader=this.geometry=null}};return b})();r.BATCHABLE_SIZE=100;p.Mesh=r}
goog.provide("module$node_modules$$pixi$mesh$lib$Mesh");
goog.global. module$node_modules$$pixi$mesh$lib$Mesh=shadow.js.require(341, {});
