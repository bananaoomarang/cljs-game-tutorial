shadow$provide[276]=function(r,l,A,p){var k=l(274),m=l(275);let d=0,c;class a{constructor(){this._initialized=!1;this._createdWorkers=0;this.workerPool=[];this.queue=[];this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(b=>{const e=new k.default;e.addEventListener("message",g=>{e.terminate();k.default.revokeObjectURL();b(g.data)})}),this._isImageBitmapSupported)}loadImageBitmap(b){return this._run("loadImageBitmap",
[b])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===c&&(c=navigator.hardwareConcurrency||4);let b=this.workerPool.pop();return!b&&this._createdWorkers<c&&(this._createdWorkers++,b=new m.default,b.addEventListener("message",e=>{this.complete(e.data);this.returnWorker(e.target);this.next()})),b}returnWorker(b){this.workerPool.push(b)}complete(b){void 0!==b.error?this.resolveHash[b.uuid].reject(b.error):this.resolveHash[b.uuid].resolve(b.data);this.resolveHash[b.uuid]=
null}async _run(b,e){await this._initWorkers();const g=new Promise((f,h)=>{this.queue.push({id:b,arguments:e,resolve:f,reject:h})});return this.next(),g}next(){if(this.queue.length){var b=this.getWorker();if(b){var e=this.queue.pop(),g=e.id;this.resolveHash[d]={resolve:e.resolve,reject:e.reject};b.postMessage({data:e.arguments,uuid:d++,id:g})}}}}r=new a;p.WorkerManager=r}
goog.provide("module$node_modules$$pixi$assets$lib$loader$parsers$WorkerManager");
goog.global. module$node_modules$$pixi$assets$lib$loader$parsers$WorkerManager=shadow.js.require(276, {});
