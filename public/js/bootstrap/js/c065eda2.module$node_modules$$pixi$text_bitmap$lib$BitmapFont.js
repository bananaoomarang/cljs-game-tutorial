shadow$provide[395]=function(r,l,A,p){var k=l(209),m=l(364),d=l(384),c=l(388);l(394);var a=l(393),b=l(390),e=l(391);const g=class{constructor(f,h,n){const [q]=f.info,[t]=f.common;var [u]=f.page;const [v]=f.distanceField;u=k.utils.getResolutionOfUrl(u.file);var x={};this._ownsTextures=n;this.font=q.face;this.size=q.size;this.lineHeight=t.lineHeight/u;this.chars={};this.pageTextures=x;for(n=0;n<f.page.length;n++){const {id:z,file:y}=f.page[n];x[z]=h instanceof Array?h[n]:h[y];v?.fieldType&&"none"!==
v.fieldType&&(x[z].baseTexture.alphaMode=k.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,x[z].baseTexture.mipmap=k.MIPMAP_MODES.OFF)}for(h=0;h<f.char.length;h++){const {id:z,page:y}=f.char[h];let {x:C,y:B,width:w,height:E,xoffset:H,yoffset:I,xadvance:M}=f.char[h];C/=u;B/=u;w/=u;E/=u;H/=u;I/=u;M/=u;n=new k.Rectangle(C+x[y].frame.x/u,B+x[y].frame.y/u,w,E);this.chars[z]={xOffset:H,yOffset:I,xAdvance:M,kerning:{},texture:new k.Texture(x[y].baseTexture,n),page:y}}for(x=0;x<f.kerning.length;x++){let {first:z,second:y,
amount:C}=f.kerning[x];z/=u;y/=u;C/=u;this.chars[y]&&(this.chars[y].kerning[z]=C)}this.distanceFieldRange=v?.distanceRange;this.distanceFieldType=v?.fieldType?.toLowerCase()??"none"}destroy(){for(const f in this.chars)this.chars[f].texture.destroy(),this.chars[f].texture=null;for(const f in this.pageTextures)this._ownsTextures&&this.pageTextures[f].destroy(!0),this.pageTextures[f]=null;this.pageTextures=this.chars=null}static install(f,h,n){if(!(f instanceof d.BitmapFontData)){const q=c.autoDetectFormat(f);
if(!q)throw Error("Unrecognized data format for font.");f=q.parse(f)}h instanceof k.Texture&&(h=[h]);h=new g(f,h,n);return g.available[h.font]=h,h}static uninstall(f){const h=g.available[f];if(!h)throw Error(`No font found named '${f}'`);h.destroy();delete g.available[f]}static from(f,h,n){if(!f)throw Error("[BitmapFont] Property `name` is required.");const {chars:q,padding:t,resolution:u,textureWidth:v,textureHeight:x,...z}=Object.assign({},g.defaultOptions,n);var y=a.resolveCharacters(q),C=h instanceof
m.TextStyle?h:new m.TextStyle(h);h=new d.BitmapFontData;h.info[0]={face:C.fontFamily,size:C.fontSize};h.common[0]={lineHeight:C.fontSize};var B=0;let w=0;var E;let H;var I;let M=0;const N=[],G=[];for(let D=0;D<y.length;D++){E||(E=k.settings.ADAPTER.createCanvas(),E.width=v,E.height=x,H=E.getContext("2d"),I=new k.BaseTexture(E,{resolution:u,...z}),N.push(I),G.push(new k.Texture(I)),h.page.push({id:G.length-1,file:""}));var K=y[D];const F=m.TextMetrics.measureText(K,C,!1,E),J=F.width,L=Math.ceil(F.height),
R=Math.ceil(("italic"===C.fontStyle?2:1)*J);if(w>=x-L*u){if(0===w)throw Error(`[BitmapFont] textureHeight ${x}px is too small (fontFamily: '${C.fontFamily}', fontSize: ${C.fontSize}px, char: '${K}')`);--D;I=H=E=null;M=B=w=0}else if(M=Math.max(L+F.fontProperties.descent,M),R*u+B>=v){if(0===B)throw Error(`[BitmapFont] textureWidth ${v}px is too small (fontFamily: '${C.fontFamily}', fontSize: ${C.fontSize}px, char: '${K}')`);--D;w+=M*u;w=Math.ceil(w);M=B=0}else b.drawGlyph(E,H,F,B,w,u,C),K=e.extractCharCode(F.text),
h.char.push({id:K,page:G.length-1,x:B/u,y:w/u,width:R,height:L,xoffset:0,yoffset:0,xadvance:J-(C.dropShadow?C.dropShadowDistance:0)-(C.stroke?C.strokeThickness:0)}),B+=(R+2*t)*u,B=Math.ceil(B)}if(!n?.skipKerning)for(let D=0,F=y.length;D<F;D++)for(n=y[D],E=0;E<F;E++)I=y[E],C=H.measureText(n).width,B=H.measureText(I).width,(C=H.measureText(n+I).width-(C+B))&&h.kerning.push({first:e.extractCharCode(n),second:e.extractCharCode(I),amount:C});y=new g(h,G,!0);return void 0!==g.available[f]&&g.uninstall(f),
g.available[f]=y,y}};r=g;r.ALPHA=[["a","z"],["A","Z"]," "];r.NUMERIC=[["0","9"]];r.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];r.ASCII=[[" ","~"]];r.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:r.ALPHANUMERIC};r.available={};p.BitmapFont=r}
goog.provide("module$node_modules$$pixi$text_bitmap$lib$BitmapFont");
goog.global. module$node_modules$$pixi$text_bitmap$lib$BitmapFont=shadow.js.require(395, {});
