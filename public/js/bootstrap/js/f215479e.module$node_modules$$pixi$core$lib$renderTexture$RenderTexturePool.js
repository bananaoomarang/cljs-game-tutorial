shadow$provide[141]=function(r,l,A,p){var k=l(0),m=l(72),d=l(135),c=l(140);class a{constructor(b){this.texturePool={};this.textureOptions=b||{};this.enableFullScreen=!1;this._pixelsHeight=this._pixelsWidth=0}createTexture(b,e,g=k.MSAA_QUALITY.NONE){b=new d.BaseRenderTexture(Object.assign({width:b,height:e,resolution:1,multisample:g},this.textureOptions));return new c.RenderTexture(b)}getOptimalTexture(b,e,g=1,f=k.MSAA_QUALITY.NONE){let h;b=Math.max(Math.ceil(b*g-1E-6),1);e=Math.max(Math.ceil(e*g-
1E-6),1);this.enableFullScreen&&b===this._pixelsWidth&&e===this._pixelsHeight?h=1<f?-f:-1:(b=m.nextPow2(b),e=m.nextPow2(e),h=((b&65535)<<16|e&65535)>>>0,1<f&&(h+=4294967296*f));this.texturePool[h]||(this.texturePool[h]=[]);let n=this.texturePool[h].pop();return n||(n=this.createTexture(b,e,f)),n.filterPoolKey=h,n.setResolution(g),n}getFilterTexture(b,e,g){e=this.getOptimalTexture(b.width,b.height,e||b.resolution,g||k.MSAA_QUALITY.NONE);return e.filterFrame=b.filterFrame,e}returnTexture(b){const e=
b.filterPoolKey;b.filterFrame=null;this.texturePool[e].push(b)}returnFilterTexture(b){this.returnTexture(b)}clear(b){if(b=!1!==b,b)for(const e in this.texturePool)if(b=this.texturePool[e])for(let g=0;g<b.length;g++)b[g].destroy(!0);this.texturePool={}}setScreenSize(b){if(b.width!==this._pixelsWidth||b.height!==this._pixelsHeight){this.enableFullScreen=0<b.width&&0<b.height;for(const e in this.texturePool){if(!(0>Number(e)))continue;const g=this.texturePool[e];if(g)for(let f=0;f<g.length;f++)g[f].destroy(!0);
this.texturePool[e]=[]}this._pixelsWidth=b.width;this._pixelsHeight=b.height}}}a.SCREEN_KEY=-1;p.RenderTexturePool=a}
goog.provide("module$node_modules$$pixi$core$lib$renderTexture$RenderTexturePool");
goog.global. module$node_modules$$pixi$core$lib$renderTexture$RenderTexturePool=shadow.js.require(141, {});
